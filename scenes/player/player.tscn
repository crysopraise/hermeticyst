[gd_scene load_steps=10 format=2]

[ext_resource path="res://scripts/player/player.gd" type="Script" id=1]
[ext_resource path="res://assets/models/player_idleattack02.anim" type="Animation" id=2]
[ext_resource path="res://assets/models/player.tscn" type="PackedScene" id=4]

[sub_resource type="BoxShape" id=1]
extents = Vector3( 0.844698, 1.81682, 1 )

[sub_resource type="BoxShape" id=2]
extents = Vector3( 0.621861, 1.04194, 0.628027 )

[sub_resource type="Animation" id=5]
resource_name = "Aim"
tracks/0/type = "bezier"
tracks/0/path = NodePath(".:translation:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"points": PoolRealArray( 0, -0.25, 0, 0.25, 0, 1.68645, -0.25, 0, 0.25, 0 ),
"times": PoolRealArray( 0, 1 )
}
tracks/1/type = "bezier"
tracks/1/path = NodePath(".:translation:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"points": PoolRealArray( 1.27801, -0.25, 0, 0.25, 0, 1.14529, -0.25, 0, 0.25, 0 ),
"times": PoolRealArray( 0, 1 )
}
tracks/2/type = "bezier"
tracks/2/path = NodePath(".:translation:z")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"points": PoolRealArray( 4.93297, -0.25, 0, 0.25, 0, 3.19102, -0.25, 0, 0.25, 0 ),
"times": PoolRealArray( 0, 1 )
}

[sub_resource type="Animation" id=6]
length = 0.001
tracks/0/type = "bezier"
tracks/0/path = NodePath(".:translation:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"points": PoolRealArray( 0, -0.25, 0, 0.25, 0 ),
"times": PoolRealArray( 0 )
}
tracks/1/type = "bezier"
tracks/1/path = NodePath(".:translation:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"points": PoolRealArray( 1.27801, -0.25, 0, 0.25, 0 ),
"times": PoolRealArray( 0 )
}
tracks/2/type = "bezier"
tracks/2/path = NodePath(".:translation:z")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"points": PoolRealArray( 4.93297, -0.25, 0, 0.25, 0 ),
"times": PoolRealArray( 0 )
}

[sub_resource type="Animation" id=4]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("AttackHitbox/CollisionShape:disabled")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ true ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("AttackHitbox/CollisionShape:translation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( -4.55651, -1.64687, 1.06216 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("AttackHitbox/CollisionShape:shape:extents")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( 1.68414, 0.716361, 2.07755 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("..:is_attacking")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ false ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("..:is_beam_ready")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ false ]
}

[sub_resource type="BoxShape" id=3]
extents = Vector3( 1.68414, 0.716361, 2.07755 )

[node name="Player" type="KinematicBody" groups=["player"]]
collision_layer = 2
collision_mask = 129
script = ExtResource( 1 )
BOOST_VELOCITY = 30
BEAM_TIME = 1.5

[node name="MeleeCollision" type="CollisionShape" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.240845, 0 )
shape = SubResource( 1 )

[node name="BulletCollision" type="Area" parent="."]
collision_layer = 16
collision_mask = 0

[node name="CollisionShape" type="CollisionShape" parent="BulletCollision"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.150776, 0 )
shape = SubResource( 2 )

[node name="Pivot" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.05048, 0.735726 )

[node name="Camera" type="ClippedCamera" parent="Pivot"]
transform = Transform( 1, 0, 0, 0, 0.985592, 0.169143, 0, -0.169143, 0.985592, 0, 1.27801, 4.93297 )
current = true
far = 300.0

[node name="AnimationPlayer" type="AnimationPlayer" parent="Pivot/Camera"]
anims/Aim = SubResource( 5 )
anims/RESET = SubResource( 6 )

[node name="ShotPoint" type="Position3D" parent="Pivot"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.64742, -0.558807, -5.21342 )

[node name="Timer" type="Timer" parent="."]
one_shot = true

[node name="RegenTimer" type="Timer" parent="."]
one_shot = true

[node name="Model" parent="." instance=ExtResource( 4 )]

[node name="Skeleton" parent="Model/Armature" index="0"]
bones/29/bound_children = [  ]

[node name="Physical Bone base" parent="Model/Armature/Skeleton" index="1"]
transform = Transform( 0.999999, -3.58559e-07, 1.18464e-06, -3.62168e-07, 1, -7.54371e-08, -8.19564e-08, -4.17233e-07, 0.999995, -1.49012e-08, -2.38419e-07, -0.289607 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3.28181e-07, 2.60266e-07, 0.289608 )
body_offset = Transform( 0.999999, -3.58559e-07, 1.18464e-06, -3.62168e-07, 1, -7.54371e-08, -8.19564e-08, -4.17233e-07, 0.999995, -1.49012e-08, -2.38419e-07, -0.289607 )

[node name="Physical Bone abdomen1" parent="Model/Armature/Skeleton" index="2"]
transform = Transform( 0.643373, 0.0091456, -0.765496, 0.0371845, 0.998376, 0.043181, 0.764649, -0.0562466, 0.641989, 0.139805, 0.571325, -0.11725 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.33932e-06, 2.64573e-06, 0.182634 )
body_offset = Transform( 1, -1.2666e-07, 3.8445e-06, -6.44475e-07, 1, -1.2666e-07, -9.23872e-07, 4.17233e-07, 0.999999, -2.04146e-06, -2.6226e-06, -0.182634 )

[node name="Physical Bone abdomen2" parent="Model/Armature/Skeleton" index="3"]
transform = Transform( 0.652507, -0.00908013, -0.757726, 0.101524, 0.991961, 0.0755388, 0.750951, -0.126217, 0.648184, 0.141727, 0.930094, -0.138926 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.35004e-07, -3.58199e-06, 0.182633 )
body_offset = Transform( 1, 1.11759e-07, 5.66244e-07, 0, 1, 3.57628e-07, 1.81794e-06, -9.68575e-08, 0.999999, -2.38419e-07, 3.51667e-06, -0.182633 )

[node name="Physical Bone chest" parent="Model/Armature/Skeleton" index="4"]
transform = Transform( 0.945411, -0.141555, 0.293533, 0.0936222, 0.980742, 0.17142, -0.312145, -0.134579, 0.940454, -0.119609, 1.23635, -0.449942 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 4.76837e-07, 5.85243e-06, 0.407564 )
body_offset = Transform( 0.823488, -0.171729, 0.540719, 0.209579, 0.977755, -0.00864784, -0.527205, 0.120447, 0.841159, -0.220377, 0.00351873, -0.342827 )

[node name="Physical Bone neck" parent="Model/Armature/Skeleton" index="5"]
transform = Transform( 0.99828, 0.0236636, 0.0536285, -0.0238854, 0.999708, 0.0034802, -0.0535329, -0.00475475, 0.998553, -0.125882, 2.10868, -0.368671 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.165156, -0.00259568, 0.143847 )
body_offset = Transform( 0.827026, -0.0614425, 0.558793, 0.0807171, 0.996687, -0.00987257, -0.556339, 0.0532699, 0.829246, -0.217129, -0.00932372, -0.0272637 )

[node name="Physical Bone shoulderL" parent="Model/Armature/Skeleton" index="6"]
transform = Transform( -0.351853, -0.929565, 0.110062, 0.93545, -0.344948, 0.0771268, -0.0337323, 0.13009, 0.99093, -0.154063, 2.07851, -0.524793 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0578617, -0.157043, 0.312243 )
body_offset = Transform( 0.96323, -0.196187, -0.183588, 0.0726851, 0.848053, -0.524911, 0.25867, 0.492261, 0.831125, 0.0822484, 0.301286, -0.16724 )

[node name="Physical Bone bicepL" parent="Model/Armature/Skeleton" index="7"]
transform = Transform( -0.549577, 0.793131, -0.262498, -0.83191, -0.548401, 0.0847501, -0.0767392, 0.26495, 0.961202, -0.752081, 1.96568, -0.62621 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0687988, 0.201529, 0.0454983 )
body_offset = Transform( 0.13735, -0.842609, -0.520712, 0.629311, 0.480195, -0.61105, 0.764919, -0.243763, 0.596217, 0.202951, -0.0256757, 0.0746239 )

[node name="Physical Bone elbowL" parent="Model/Armature/Skeleton" index="8"]
transform = Transform( -0.256554, 0.892717, -0.370451, -0.632242, -0.444909, -0.634293, -0.731061, 0.0714837, 0.678556, -0.514207, 1.41092, 0.0924295 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.966924, 0.178216, -0.608703 )
body_offset = Transform( 0.316625, -0.4745, -0.821338, 0.51961, 0.811177, -0.268321, 0.79357, -0.341817, 0.503396, -0.721539, -0.810315, -0.399986 )

[node name="Physical Bone shoulderR" parent="Model/Armature/Skeleton" index="9"]
transform = Transform( -0.0466509, 0.802594, 0.594699, -0.980052, -0.151918, 0.128146, 0.193195, -0.576858, 0.793668, -0.324481, 2.06056, -0.455432 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0157473, 0.163654, 0.401956 )
body_offset = Transform( 0.9791, -0.135774, -0.151435, 0.196174, 0.826977, 0.526902, 0.0536935, -0.545597, 0.836325, 0.0985083, -0.34404, -0.246031 )

[node name="Physical Bone bicepR" parent="Model/Armature/Skeleton" index="10"]
transform = Transform( -0.951798, 0.247277, -0.18149, -0.132172, 0.203292, 0.970155, 0.276792, 0.947378, -0.16081, 0.709988, 1.03371, -0.222623 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.141738, 0.161193, 0.867225 )
body_offset = Transform( 0.816999, -0.571455, -0.0771642, -0.0541707, 0.0571711, -0.996894, 0.574092, 0.818639, 0.015754, 0.274833, 0.847638, -0.0642507 )

[node name="Physical Bone elbowR" parent="Model/Armature/Skeleton" index="11"]
transform = Transform( -0.874044, -0.20113, -0.442254, -0.405511, 0.803366, 0.436076, 0.267588, 0.560489, -0.783742, 0.501084, 1.8025, -0.0621739 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.083212, -0.725991, -0.555511 )
body_offset = Transform( 0.776663, -0.18202, 0.60304, 0.275375, -0.762901, -0.584936, 0.566533, 0.620362, -0.542397, 0.267478, -0.855883, 0.196212 )

[node name="Physical Bone pelvisL" parent="Model/Armature/Skeleton" index="12"]
transform = Transform( -8.60309e-08, -1, 8.27014e-07, 1, 4.67408e-08, -9.31323e-10, -2.51457e-07, -2.23517e-08, 0.999996, 2.83122e-07, 0.579211, -0.188044 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.63679e-06, 4.46088e-07, 0.188045 )
body_offset = Transform( 1, 4.41214e-08, -7.54371e-08, 8.59727e-08, 1, -8.27014e-07, -1.7602e-07, -2.23517e-08, 0.999996, -2.6226e-06, -2.90573e-07, -0.188044 )

[node name="Physical Bone wingfrontL" parent="Model/Armature/Skeleton" index="13"]
transform = Transform( 0.667444, -0.721644, 0.183743, 0.516472, 0.62635, 0.58391, -0.536457, -0.294825, 0.790758, -0.433609, 0.396408, -0.247548 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 6.29574e-06, 6.93649e-06, 0.313059 )
body_offset = Transform( 0.886529, -0.123929, 0.445783, -0.137596, 0.849263, 0.509732, -0.441752, -0.513225, 0.73584, -0.139561, -0.159581, -0.230355 )

[node name="Physical Bone thighL" parent="Model/Armature/Skeleton" index="14"]
transform = Transform( -0.661301, -0.425185, 0.617969, 0.483406, -0.871505, -0.0823373, 0.573572, 0.244277, 0.781878, -0.628114, 0.662903, -0.794717 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.49012e-06, 7.15256e-07, 1.01642 )
body_offset = Transform( 0.948036, 0.159066, 0.275518, -0.0131264, 0.884834, -0.465699, -0.317871, 0.437883, 0.84096, -0.280043, 0.473344, -0.854767 )

[node name="Physical Bone pelvisR" parent="Model/Armature/Skeleton" index="15"]
transform = Transform( 8.60309e-08, 1, 8.27014e-07, -1, -4.67408e-08, -9.31323e-10, 2.51457e-07, 2.23517e-08, 0.999996, 2.83122e-07, 0.579211, -0.188044 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.63679e-06, -4.46088e-07, 0.188045 )
body_offset = Transform( 1, 4.41214e-08, 7.54371e-08, 8.59727e-08, 1, 8.27014e-07, 1.7602e-07, 2.23517e-08, 0.999996, 2.6226e-06, 2.90573e-07, -0.188044 )

[node name="Physical Bone wingfrontR" parent="Model/Armature/Skeleton" index="16"]
transform = Transform( 0.67171, 0.732241, -0.112384, -0.520159, 0.574194, 0.632245, 0.527483, -0.366227, 0.766567, 0.411267, 0.381285, -0.239976 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7.59959e-07, 3.50177e-06, 0.313055 )
body_offset = Transform( 0.891369, 0.159244, -0.424387, 0.135373, 0.800005, 0.584518, 0.43259, -0.578473, 0.691536, 0.132855, -0.182989, -0.216487 )

[node name="Physical Bone thighR" parent="Model/Armature/Skeleton" index="17"]
transform = Transform( -0.923971, 0.182353, -0.336195, -0.205075, -0.978187, 0.0330395, -0.32284, 0.0994733, 0.941214, 0.341718, 0.54563, -0.956665 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.30806e-06, -2.74181e-06, 1.01642 )
body_offset = Transform( 0.961664, -0.0854582, -0.260579, -0.0670065, 0.84818, -0.525451, 0.26592, 0.522767, 0.809939, 0.264854, 0.53408, -0.823236 )

[node name="BoneAttachment" parent="Model/Armature/Skeleton" index="18"]
transform = Transform( 0.0519101, 0.964784, -0.25787, 0.879272, 0.0782722, 0.469844, 0.473482, -0.251128, -0.844245, 0.273849, 1.05489, -1.27729 )

[node name="scytheparent" parent="Model" index="1"]
transform = Transform( -0.0362057, 0.971495, -0.234278, 0.871984, 0.145234, 0.467494, 0.488193, -0.18736, -0.852387, 0.284105, -0.360258, -1.242 )

[node name="AnimationPlayer" parent="Model" index="2"]
autoplay = "player_idle"
anims/RESET = SubResource( 4 )
anims/player_idleattack02 = ExtResource( 2 )

[node name="AttackHitbox" type="Area" parent="Model"]
transform = Transform( 0.999999, 0, 0, 0, 0.999999, 0, 0, 0, 0.999999, 0, 0, 0 )
collision_layer = 32
collision_mask = 76

[node name="CollisionShape" type="CollisionShape" parent="Model/AttackHitbox"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -4.55651, -1.64687, 1.06216 )
shape = SubResource( 3 )
disabled = true

[connection signal="timeout" from="Timer" to="." method="_on_timeout"]
[connection signal="area_entered" from="Model/AttackHitbox" to="." method="_on_hit"]
[connection signal="body_entered" from="Model/AttackHitbox" to="." method="_on_hit"]

[editable path="Model"]
