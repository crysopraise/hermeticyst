[gd_scene load_steps=11 format=2]

[ext_resource path="res://scripts/player/player.gd" type="Script" id=1]
[ext_resource path="res://assets/redbar.png" type="Texture" id=2]
[ext_resource path="res://assets/models/player.tscn" type="PackedScene" id=4]

[sub_resource type="BoxShape" id=1]
extents = Vector3( 0.844698, 1.81682, 1 )

[sub_resource type="BoxShape" id=2]
extents = Vector3( 0.621861, 1.04194, 0.628027 )

[sub_resource type="Animation" id=4]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("AttackHitbox/CollisionShape:disabled")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ true ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("AttackHitbox/CollisionShape:translation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( -4.55651, -1.64687, 1.06216 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("AttackHitbox/CollisionShape:shape:extents")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( 1.68414, 0.716361, 2.07755 ) ]
}

[sub_resource type="BoxShape" id=3]
extents = Vector3( 1.68414, 0.716361, 2.07755 )

[sub_resource type="ParticlesMaterial" id=5]
trail_divisor = 6
spread = 180.0
gravity = Vector3( 0, -4.9, 0 )
initial_velocity = 10.0

[sub_resource type="SpatialMaterial" id=7]
params_billboard_mode = 3
particles_anim_h_frames = 1
particles_anim_v_frames = 1
particles_anim_loop = false
albedo_texture = ExtResource( 2 )

[sub_resource type="QuadMesh" id=6]
material = SubResource( 7 )
size = Vector2( 0.1, 0.1 )

[node name="Player" type="KinematicBody" groups=["player"]]
collision_layer = 2
collision_mask = 129
script = ExtResource( 1 )
BOOST_VELOCITY = 30

[node name="MeleeCollision" type="CollisionShape" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.240845, 0 )
shape = SubResource( 1 )

[node name="BulletCollision" type="Area" parent="."]
collision_layer = 16
collision_mask = 0

[node name="CollisionShape" type="CollisionShape" parent="BulletCollision"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.150776, 0 )
shape = SubResource( 2 )

[node name="Pivot" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.05048, 0.735726 )

[node name="Camera" type="Camera" parent="Pivot"]
transform = Transform( 1, 0, 0, 0, 0.985592, 0.169143, 0, -0.169143, 0.985592, 0, 1.27801, 4.93297 )
current = true
far = 300.0

[node name="AttackTimer" type="Timer" parent="."]
one_shot = true

[node name="Model" parent="." instance=ExtResource( 4 )]

[node name="Skeleton" parent="Model/Armature" index="0"]
bones/29/bound_children = [ NodePath("BoneAttachment") ]

[node name="Physical Bone base" parent="Model/Armature/Skeleton" index="1"]
transform = Transform( 0.999999, -3.58559e-07, 1.03563e-06, -7.14208e-08, 1, -5.96046e-08, -7.45058e-08, -4.17233e-07, 0.999999, -1.49012e-08, -2.38419e-07, -0.289607 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.82867e-07, 2.55411e-07, 0.289607 )
body_offset = Transform( 0.999999, -3.58559e-07, 1.02818e-06, -6.39702e-08, 1, -5.86733e-08, -7.45058e-08, -4.17233e-07, 0.999999, -1.49012e-08, -2.38419e-07, -0.289607 )

[node name="Physical Bone abdomen1" parent="Model/Armature/Skeleton" index="2"]
transform = Transform( 0.643373, 0.00914575, -0.765497, 0.0371845, 0.998375, 0.0431809, 0.76465, -0.0562468, 0.641987, 0.139806, 0.571327, -0.117249 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.55448e-07, 5.63657e-07, 0.182634 )
body_offset = Transform( 1, -2.16067e-07, 1.60933e-06, -6.4075e-07, 1, -1.49012e-07, -6.85453e-07, 1.32248e-07, 0.999999, -8.49366e-07, -5.36442e-07, -0.182634 )

[node name="Physical Bone abdomen2" parent="Model/Armature/Skeleton" index="3"]
transform = Transform( 0.652507, -0.0090801, -0.757727, 0.101524, 0.991961, 0.0755385, 0.750951, -0.126217, 0.648185, 0.141726, 0.930092, -0.138925 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.57068e-07, -2.25545e-06, 0.182633 )
body_offset = Transform( 1, -1.49012e-08, 3.8743e-07, 0, 1, -5.21541e-08, 1.75834e-06, -2.38419e-07, 1, -3.27826e-07, 2.26498e-06, -0.182633 )

[node name="Physical Bone chest" parent="Model/Armature/Skeleton" index="4"]
transform = Transform( 0.961562, 0.0571935, -0.268567, 0.00136473, 0.97706, 0.212958, 0.274587, -0.205139, 0.939426, 0.109481, 1.21942, -0.449523 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.58794e-07, 5.86442e-06, 0.407564 )
body_offset = Transform( 1, -8.9407e-08, 0, 2.6077e-07, 1, 8.9407e-08, 9.23872e-07, 5.96046e-08, 1, -5.58794e-07, -5.90086e-06, -0.407564 )

[node name="Physical Bone neck" parent="Model/Armature/Skeleton" index="5"]
transform = Transform( 0.854119, 0.103635, -0.509647, -0.0792337, 0.994434, 0.0694272, 0.514007, -0.0189184, 0.857574, 0.144283, 2.08933, -0.398156 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.96769e-07, 3.72249e-06, 0.191583 )
body_offset = Transform( 1, 9.38307e-08, 1.49012e-07, -3.55882e-07, 0.999999, -4.52041e-07, -1.04308e-06, 1.15135e-07, 0.999997, 2.68221e-07, -3.63588e-06, -0.191582 )

[node name="Physical Bone shoulderL" parent="Model/Armature/Skeleton" index="6"]
transform = Transform( -0.176749, -0.87166, -0.457128, 0.954563, -0.265026, 0.136271, -0.239935, -0.412275, 0.878899, 0.207388, 2.05472, -0.542914 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.88263e-06, -2.78875e-07, 0.351638 )
body_offset = Transform( 1, -3.72529e-07, -9.08971e-07, 9.31323e-07, 1, -7.7486e-07, -1.57952e-06, -2.08616e-06, 1, -2.563e-06, 5.51343e-07, -0.351638 )

[node name="Physical Bone bicepL" parent="Model/Armature/Skeleton" index="7"]
transform = Transform( -0.607098, 0.195401, -0.770226, 0.303697, -0.838655, -0.452135, -0.734302, -0.508407, 0.449805, -0.194489, 2.13455, -0.740982 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.20437e-06, -2.26585e-06, 0.482827 )
body_offset = Transform( 1, 9.53674e-07, -7.15256e-07, -7.7486e-07, 1, -2.22027e-06, -1.2219e-06, 0, 0.999999, 1.54972e-06, 3.33786e-06, -0.482827 )

[node name="Physical Bone elbowL" parent="Model/Armature/Skeleton" index="8"]
transform = Transform( -0.200562, 0.690244, -0.695223, 0.531895, -0.519223, -0.66895, -0.822716, -0.503953, -0.263002, -0.324495, 1.15757, -0.994628 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 9.44554e-07, -2.13358e-08, 0.076505 )
body_offset = Transform( 1, 2.08616e-06, 1.19209e-07, -5.96046e-07, 0.999999, 1.05798e-06, 2.08616e-07, -5.21541e-07, 0.999999, -9.53674e-07, -5.96046e-08, -0.0765049 )

[node name="Physical Bone shoulderR" parent="Model/Armature/Skeleton" index="9"]
transform = Transform( -0.244705, 0.967922, 0.056966, -0.958345, -0.250372, 0.137435, 0.14729, -0.0209618, 0.988871, 0.0266112, 2.0543, -0.581587 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -6.56109e-06, -7.1902e-07, 0.351641 )
body_offset = Transform( 1, -4.25149e-07, 5.21541e-07, 1.56928e-07, 1, 1.37836e-07, -8.19564e-08, 5.58794e-08, 1, 6.3777e-06, 6.70552e-07, -0.351641 )

[node name="Physical Bone bicepR" parent="Model/Armature/Skeleton" index="10"]
transform = Transform( -0.904919, 0.246619, -0.346847, -0.299019, -0.94836, 0.105827, -0.302835, 0.199478, 0.931932, 0.89483, 1.87546, -0.698565 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.21262e-06, -2.09847e-06, 0.482829 )
body_offset = Transform( 1, -1.49012e-07, 3.27826e-07, -2.13832e-06, 1, -2.83122e-07, 1.78814e-06, -8.64267e-07, 1, -1.37091e-06, 2.23517e-06, -0.482829 )

[node name="Physical Bone elbowR" parent="Model/Armature/Skeleton" index="11"]
transform = Transform( -0.90893, 0.17144, -0.380069, -0.198207, -0.979632, 0.032118, -0.366824, 0.104525, 0.9244, 0.994593, 1.0083, -0.126695 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.47239e-06, -5.13456e-06, 0.0765075 )
body_offset = Transform( 1, 2.94298e-07, -1.75834e-06, 1.52737e-07, 0.999998, 1.11759e-07, -2.68221e-07, 9.68575e-08, 1, -3.33786e-06, 5.126e-06, -0.0765075 )

[node name="Physical Bone pelvisL" parent="Model/Armature/Skeleton" index="12"]
transform = Transform( 1.05065e-07, -1, 3.72529e-08, 0.999999, 4.67408e-08, -1.86265e-09, -2.90573e-07, -2.23517e-08, 0.999999, 1.04308e-07, 0.579212, -0.188044 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.20645e-06, 1.17363e-07, 0.188044 )
body_offset = Transform( 0.999999, 4.41214e-08, -7.63685e-08, -1.05065e-07, 1, -2.98023e-08, -2.16067e-07, -2.23517e-08, 0.999999, -1.19209e-06, -1.11759e-07, -0.188044 )

[node name="Physical Bone wingfrontL" parent="Model/Armature/Skeleton" index="13"]
transform = Transform( 0.763039, -0.611039, 0.210724, 0.640533, 0.758503, -0.119949, -0.0865416, 0.226502, 0.970159, -0.442058, 0.616759, -0.303716 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 4.61509e-06, 4.02228e-06, 0.313058 )
body_offset = Transform( 1, -1.19023e-06, -2.71946e-07, -8.86153e-07, 0.999999, 1.93715e-07, 6.89179e-08, 4.47035e-08, 1, -4.52995e-06, -4.08292e-06, -0.313058 )

[node name="Physical Bone thighL" parent="Model/Armature/Skeleton" index="14"]
transform = Transform( -0.524319, -0.655334, 0.54371, 0.296974, -0.739154, -0.604527, 0.798053, -0.155497, 0.582172, -0.552637, 1.19367, -0.591731 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.03329e-07, 1.32692e-06, 1.01642 )
body_offset = Transform( 0.999996, -4.32134e-07, -5.96046e-08, -4.32134e-07, 0.999995, 8.64267e-07, -1.75834e-06, 5.06639e-07, 0.999999, 1.63913e-07, -2.20537e-06, -1.01642 )

[node name="Physical Bone pelvisR" parent="Model/Armature/Skeleton" index="15"]
transform = Transform( -1.05065e-07, 1, 3.72529e-08, -0.999999, -4.67408e-08, -1.86265e-09, 2.90573e-07, 2.23517e-08, 0.999999, 1.04308e-07, 0.579212, -0.188044 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.20645e-06, -1.17363e-07, 0.188044 )
body_offset = Transform( 0.999999, 4.41214e-08, 7.63685e-08, -1.05065e-07, 1, 2.98023e-08, 2.16067e-07, 2.23517e-08, 0.999999, 1.19209e-06, 1.11759e-07, -0.188044 )

[node name="Physical Bone wingfrontR" parent="Model/Armature/Skeleton" index="16"]
transform = Transform( 0.763039, 0.611039, -0.210724, -0.640533, 0.758502, -0.119948, 0.086541, 0.226501, 0.970155, 0.442054, 0.616763, -0.303712 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 8.2903e-07, 2.33365e-06, 0.313054 )
body_offset = Transform( 1, 2.11969e-06, -1.12504e-06, 5.51343e-07, 0.999998, 4.47035e-07, -6.10948e-07, -1.78814e-07, 0.999996, -4.76837e-07, -2.47359e-06, -0.313053 )

[node name="Physical Bone thighR" parent="Model/Armature/Skeleton" index="17"]
transform = Transform( -0.816526, 0.393234, -0.422672, -0.122229, -0.833301, -0.539138, -0.564222, -0.388557, 0.728477, 0.429613, 1.1272, -0.740437 )
collision_mask = 5
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.25539e-06, 9.67474e-08, 1.01642 )
body_offset = Transform( 1, -8.9407e-08, -1.13249e-06, -1.49012e-07, 1, -4.47035e-07, -5.06639e-07, 5.36442e-07, 1, -1.04308e-07, 3.57628e-07, -1.01642 )

[node name="BoneAttachment" parent="Model/Armature/Skeleton" index="18"]
transform = Transform( 0.0519101, 0.964784, -0.25787, 0.879272, 0.0782722, 0.469844, 0.473482, -0.251128, -0.844245, 0.273849, 1.05489, -1.27729 )

[node name="scytheparent" parent="Model" index="1"]
transform = Transform( -0.0362057, 0.971495, -0.234278, 0.871984, 0.145234, 0.467494, 0.488193, -0.18736, -0.852387, 0.284105, -0.360258, -1.242 )

[node name="AnimationPlayer" parent="Model" index="2"]
anims/RESET = SubResource( 4 )

[node name="AttackHitbox" type="Area" parent="Model"]
transform = Transform( 0.999999, 0, 0, 0, 0.999999, 0, 0, 0, 0.999999, 0, 0, 0 )
collision_layer = 32
collision_mask = 76

[node name="CollisionShape" type="CollisionShape" parent="Model/AttackHitbox"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -4.55651, -1.64687, 1.06216 )
shape = SubResource( 3 )
disabled = true

[node name="Particles" type="Particles" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.11375, -0.10902, 0.129666 )
amount = 100
local_coords = false
process_material = SubResource( 5 )
draw_pass_1 = SubResource( 6 )

[connection signal="timeout" from="AttackTimer" to="." method="_attack_end"]
[connection signal="area_entered" from="Model/AttackHitbox" to="." method="_on_hit"]
[connection signal="body_entered" from="Model/AttackHitbox" to="." method="_on_hit"]

[editable path="Model"]
